console.info("Simple Autoscroll Loaded");const T=window.location.origin==="https://docs.google.com"?document.querySelector(".kix-appview-editor"):null,b=o=>{const t=o.scrollTop,s=o.scrollHeight,l=o.clientHeight,c=s-l;return t/c};let u=!1;const v=(o,t,s=!1)=>{const l=b(o),c=l>.99,n=o.scrollTop;u?l<.01&&(u=!1):o.scroll(0,n+t);const d=o.scrollTop-n;return c&&s&&(u=!0,o.scroll({top:0,behavior:"auto"})),d},P=async()=>{if(globalThis.chrome){let o=-1,t=null,s=null,l=null;const c=()=>{clearInterval(o),o=-1},n=(e,r,a)=>{o>=0&&clearInterval(o),o=setInterval(()=>{var i;const f=[T,document==null?void 0:document.body,(i=document==null?void 0:document.body)==null?void 0:i.parentNode].filter(Boolean);for(let p of f)if(v(p,r,a))break},e)},d=(e,r,a=!1)=>{o>=0?c():e&&r&&n(e,r,a)};chrome.runtime.onMessage.addListener((e,r,a)=>{if(e){u=!1;const{scrollDuration:f,scrollPixels:i,loop:p,stop:g,pause:h}=e;l=p,g?c():h?d(t,s,l):(t=f,s=i,n(f,i,p))}})}};P();
