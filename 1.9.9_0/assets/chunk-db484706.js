import{o as ue,T as ve,U as oe,l as $}from"./chunk-15a82b54.js";var tt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,s){(function(a){i.exports=a()})(function(){return function a(u,l,v){function p(E,T){if(!l[E]){if(!u[E]){var h=typeof ve=="function"&&ve;if(!T&&h)return h(E,!0);if(I)return I(E,!0);var D=new Error("Cannot find module '"+E+"'");throw D.code="MODULE_NOT_FOUND",D}var P=l[E]={exports:{}};u[E][0].call(P.exports,function(d){var _=u[E][1][d];return p(_||d)},P,P.exports,a,u,l,v)}return l[E].exports}for(var I=typeof ve=="function"&&ve,w=0;w<v.length;w++)p(v[w]);return p}({1:[function(a,u,l){(function(v){var p=v.MutationObserver||v.WebKitMutationObserver,I;if(p){var w=0,E=new p(d),T=v.document.createTextNode("");E.observe(T,{characterData:!0}),I=function(){T.data=w=++w%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var h=new v.MessageChannel;h.port1.onmessage=d,I=function(){h.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?I=function(){var A=v.document.createElement("script");A.onreadystatechange=function(){d(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},v.document.documentElement.appendChild(A)}:I=function(){setTimeout(d,0)};var D,P=[];function d(){D=!0;for(var A,O,k=P.length;k;){for(O=P,P=[],A=-1;++A<k;)O[A]();k=P.length}D=!1}u.exports=_;function _(A){P.push(A)===1&&!D&&I()}}).call(this,typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,u,l){var v=a(1);function p(){}var I={},w=["REJECTED"],E=["FULFILLED"],T=["PENDING"];u.exports=h;function h(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,S!==p&&_(this,S)}h.prototype.catch=function(S){return this.then(null,S)},h.prototype.then=function(S,B){if(typeof S!="function"&&this.state===E||typeof B!="function"&&this.state===w)return this;var C=new this.constructor(p);if(this.state!==T){var M=this.state===E?S:B;P(C,M,this.outcome)}else this.queue.push(new D(C,S,B));return C};function D(S,B,C){this.promise=S,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}D.prototype.callFulfilled=function(S){I.resolve(this.promise,S)},D.prototype.otherCallFulfilled=function(S){P(this.promise,this.onFulfilled,S)},D.prototype.callRejected=function(S){I.reject(this.promise,S)},D.prototype.otherCallRejected=function(S){P(this.promise,this.onRejected,S)};function P(S,B,C){v(function(){var M;try{M=B(C)}catch(W){return I.reject(S,W)}M===S?I.reject(S,new TypeError("Cannot resolve promise with itself")):I.resolve(S,M)})}I.resolve=function(S,B){var C=A(d,B);if(C.status==="error")return I.reject(S,C.value);var M=C.value;if(M)_(S,M);else{S.state=E,S.outcome=B;for(var W=-1,V=S.queue.length;++W<V;)S.queue[W].callFulfilled(B)}return S},I.reject=function(S,B){S.state=w,S.outcome=B;for(var C=-1,M=S.queue.length;++C<M;)S.queue[C].callRejected(B);return S};function d(S){var B=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof B=="function")return function(){B.apply(S,arguments)}}function _(S,B){var C=!1;function M(q){C||(C=!0,I.reject(S,q))}function W(q){C||(C=!0,I.resolve(S,q))}function V(){B(W,M)}var K=A(V);K.status==="error"&&M(K.value)}function A(S,B){var C={};try{C.value=S(B),C.status="success"}catch(M){C.status="error",C.value=M}return C}h.resolve=O;function O(S){return S instanceof this?S:I.resolve(new this(p),S)}h.reject=k;function k(S){var B=new this(p);return I.reject(B,S)}h.all=z;function z(S){var B=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,M=!1;if(!C)return this.resolve([]);for(var W=new Array(C),V=0,K=-1,q=new this(p);++K<C;)G(S[K],K);return q;function G(ie,fe){B.resolve(ie).then(he,function(re){M||(M=!0,I.reject(q,re))});function he(re){W[fe]=re,++V===C&&!M&&(M=!0,I.resolve(q,W))}}}h.race=te;function te(S){var B=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,M=!1;if(!C)return this.resolve([]);for(var W=-1,V=new this(p);++W<C;)K(S[W]);return V;function K(q){B.resolve(q).then(function(G){M||(M=!0,I.resolve(V,G))},function(G){M||(M=!0,I.reject(V,G))})}}},{1:1}],3:[function(a,u,l){(function(v){typeof v.Promise!="function"&&(v.Promise=a(2))}).call(this,typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,u,l){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function I(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var w=I();function E(){try{if(!w||!w.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function T(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(n){if(n.name!=="TypeError")throw n;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new t,c=0;c<e.length;c+=1)o.append(e[c]);return o.getBlob(r.type)}}typeof Promise>"u"&&a(3);var h=Promise;function D(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function P(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function d(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",O=void 0,k={},z=Object.prototype.toString,te="readonly",S="readwrite";function B(e){for(var r=e.length,t=new ArrayBuffer(r),o=new Uint8Array(t),c=0;c<r;c++)o[c]=e.charCodeAt(c);return t}function C(e){return new h(function(r){var t=e.transaction(A,S),o=T([""]);t.objectStore(A).put(o,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),r(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);r(n||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function M(e){return typeof O=="boolean"?h.resolve(O):C(e).then(function(r){return O=r,O})}function W(e){var r=k[e.name],t={};t.promise=new h(function(o,c){t.resolve=o,t.reject=c}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function V(e){var r=k[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function K(e,r){var t=k[e.name],o=t.deferredOperations.pop();if(o)return o.reject(r),o.promise}function q(e,r){return new h(function(t,o){if(k[e.name]=k[e.name]||Oe(),e.db)if(r)W(e),e.db.close();else return t(e.db);var c=[e.name];r&&c.push(e.version);var n=w.open.apply(w,c);r&&(n.onupgradeneeded=function(f){var m=n.result;try{m.createObjectStore(e.storeName),f.oldVersion<=1&&m.createObjectStore(A)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),n.onerror=function(f){f.preventDefault(),o(n.error)},n.onsuccess=function(){var f=n.result;f.onversionchange=function(m){m.target.close()},t(f),V(e)}})}function G(e){return q(e,!1)}function ie(e){return q(e,!0)}function fe(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,c=e.version>e.db.version;if(o&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var n=e.db.version+1;n>e.version&&(e.version=n)}return!0}return!1}function he(e){return new h(function(r,t){var o=new FileReader;o.onerror=t,o.onloadend=function(c){var n=btoa(c.target.result||"");r({__local_forage_encoded_blob:!0,data:n,type:e.type})},o.readAsBinaryString(e)})}function re(e){var r=B(atob(e.data));return T([r],{type:e.type})}function ke(e){return e&&e.__local_forage_encoded_blob}function ht(e){var r=this,t=r._initReady().then(function(){var o=k[r._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return P(t,e,e),t}function yt(e){W(e);for(var r=k[e.name],t=r.forages,o=0;o<t.length;o++){var c=t[o];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,G(e).then(function(n){return e.db=n,fe(e)?ie(e):n}).then(function(n){e.db=r.db=n;for(var f=0;f<t.length;f++)t[f]._dbInfo.db=n}).catch(function(n){throw K(e,n),n})}function J(e,r,t,o){o===void 0&&(o=1);try{var c=e.db.transaction(e.storeName,r);t(null,c)}catch(n){if(o>0&&(!e.db||n.name==="InvalidStateError"||n.name==="NotFoundError"))return h.resolve().then(function(){if(!e.db||n.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return yt(e).then(function(){J(e,r,t,o-1)})}).catch(t);t(n)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function gt(e){var r=this,t={db:null};if(e)for(var o in e)t[o]=e[o];var c=k[t.name];c||(c=Oe(),k[t.name]=c),c.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=ht);var n=[];function f(){return h.resolve()}for(var m=0;m<c.forages.length;m++){var y=c.forages[m];y!==r&&n.push(y._initReady().catch(f))}var g=c.forages.slice(0);return h.all(n).then(function(){return t.db=c.db,G(t)}).then(function(b){return t.db=b,fe(t,r._defaultConfig.version)?ie(t):b}).then(function(b){t.db=c.db=b,r._dbInfo=t;for(var N=0;N<g.length;N++){var R=g[N];R!==r&&(R._dbInfo.db=t.db,R._dbInfo.version=t.version)}})}function _t(e,r){var t=this;e=d(e);var o=new h(function(c,n){t.ready().then(function(){J(t._dbInfo,te,function(f,m){if(f)return n(f);try{var y=m.objectStore(t._dbInfo.storeName),g=y.get(e);g.onsuccess=function(){var b=g.result;b===void 0&&(b=null),ke(b)&&(b=re(b)),c(b)},g.onerror=function(){n(g.error)}}catch(b){n(b)}})}).catch(n)});return D(o,r),o}function bt(e,r){var t=this,o=new h(function(c,n){t.ready().then(function(){J(t._dbInfo,te,function(f,m){if(f)return n(f);try{var y=m.objectStore(t._dbInfo.storeName),g=y.openCursor(),b=1;g.onsuccess=function(){var N=g.result;if(N){var R=N.value;ke(R)&&(R=re(R));var L=e(R,N.key,b++);L!==void 0?c(L):N.continue()}else c()},g.onerror=function(){n(g.error)}}catch(N){n(N)}})}).catch(n)});return D(o,r),o}function wt(e,r,t){var o=this;e=d(e);var c=new h(function(n,f){var m;o.ready().then(function(){return m=o._dbInfo,z.call(r)==="[object Blob]"?M(m.db).then(function(y){return y?r:he(r)}):r}).then(function(y){J(o._dbInfo,S,function(g,b){if(g)return f(g);try{var N=b.objectStore(o._dbInfo.storeName);y===null&&(y=void 0);var R=N.put(y,e);b.oncomplete=function(){y===void 0&&(y=null),n(y)},b.onabort=b.onerror=function(){var L=R.error?R.error:R.transaction.error;f(L)}}catch(L){f(L)}})}).catch(f)});return D(c,t),c}function It(e,r){var t=this;e=d(e);var o=new h(function(c,n){t.ready().then(function(){J(t._dbInfo,S,function(f,m){if(f)return n(f);try{var y=m.objectStore(t._dbInfo.storeName),g=y.delete(e);m.oncomplete=function(){c()},m.onerror=function(){n(g.error)},m.onabort=function(){var b=g.error?g.error:g.transaction.error;n(b)}}catch(b){n(b)}})}).catch(n)});return D(o,r),o}function St(e){var r=this,t=new h(function(o,c){r.ready().then(function(){J(r._dbInfo,S,function(n,f){if(n)return c(n);try{var m=f.objectStore(r._dbInfo.storeName),y=m.clear();f.oncomplete=function(){o()},f.onabort=f.onerror=function(){var g=y.error?y.error:y.transaction.error;c(g)}}catch(g){c(g)}})}).catch(c)});return D(t,e),t}function At(e){var r=this,t=new h(function(o,c){r.ready().then(function(){J(r._dbInfo,te,function(n,f){if(n)return c(n);try{var m=f.objectStore(r._dbInfo.storeName),y=m.count();y.onsuccess=function(){o(y.result)},y.onerror=function(){c(y.error)}}catch(g){c(g)}})}).catch(c)});return D(t,e),t}function Et(e,r){var t=this,o=new h(function(c,n){if(e<0){c(null);return}t.ready().then(function(){J(t._dbInfo,te,function(f,m){if(f)return n(f);try{var y=m.objectStore(t._dbInfo.storeName),g=!1,b=y.openKeyCursor();b.onsuccess=function(){var N=b.result;if(!N){c(null);return}e===0||g?c(N.key):(g=!0,N.advance(e))},b.onerror=function(){n(b.error)}}catch(N){n(N)}})}).catch(n)});return D(o,r),o}function Dt(e){var r=this,t=new h(function(o,c){r.ready().then(function(){J(r._dbInfo,te,function(n,f){if(n)return c(n);try{var m=f.objectStore(r._dbInfo.storeName),y=m.openKeyCursor(),g=[];y.onsuccess=function(){var b=y.result;if(!b){o(g);return}g.push(b.key),b.continue()},y.onerror=function(){c(y.error)}}catch(b){c(b)}})}).catch(c)});return D(t,e),t}function Nt(e,r){r=_.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,c;if(!e.name)c=h.reject("Invalid arguments");else{var n=e.name===t.name&&o._dbInfo.db,f=n?h.resolve(o._dbInfo.db):G(e).then(function(m){var y=k[e.name],g=y.forages;y.db=m;for(var b=0;b<g.length;b++)g[b]._dbInfo.db=m;return m});e.storeName?c=f.then(function(m){if(!!m.objectStoreNames.contains(e.storeName)){var y=m.version+1;W(e);var g=k[e.name],b=g.forages;m.close();for(var N=0;N<b.length;N++){var R=b[N];R._dbInfo.db=null,R._dbInfo.version=y}var L=new h(function(U,F){var Y=w.open(e.name,y);Y.onerror=function(Q){var ce=Y.result;ce.close(),F(Q)},Y.onupgradeneeded=function(){var Q=Y.result;Q.deleteObjectStore(e.storeName)},Y.onsuccess=function(){var Q=Y.result;Q.close(),U(Q)}});return L.then(function(U){g.db=U;for(var F=0;F<b.length;F++){var Y=b[F];Y._dbInfo.db=U,V(Y._dbInfo)}}).catch(function(U){throw(K(e,U)||h.resolve()).catch(function(){}),U})}}):c=f.then(function(m){W(e);var y=k[e.name],g=y.forages;m.close();for(var b=0;b<g.length;b++){var N=g[b];N._dbInfo.db=null}var R=new h(function(L,U){var F=w.deleteDatabase(e.name);F.onerror=function(){var Y=F.result;Y&&Y.close(),U(F.error)},F.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},F.onsuccess=function(){var Y=F.result;Y&&Y.close(),L(Y)}});return R.then(function(L){y.db=L;for(var U=0;U<g.length;U++){var F=g[U];V(F._dbInfo)}}).catch(function(L){throw(K(e,L)||h.resolve()).catch(function(){}),L})})}return D(c,r),c}var Pt={_driver:"asyncStorage",_initStorage:gt,_support:E(),iterate:bt,getItem:_t,setItem:wt,removeItem:It,clear:St,length:At,key:Et,keys:Dt,dropInstance:Nt};function Tt(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kt="~~local_forage_type~",Re=/^~~local_forage_type~([^~]+)~/,le="__lfsc__:",ye=le.length,ge="arbf",_e="blob",Ce="si08",xe="ui08",Be="uic8",Le="si16",Ue="si32",Me="ur16",Ye="ui32",Fe="fl32",$e="fl64",We=ye+ge.length,He=Object.prototype.toString;function Ve(e){var r=e.length*.75,t=e.length,o,c=0,n,f,m,y;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var g=new ArrayBuffer(r),b=new Uint8Array(g);for(o=0;o<t;o+=4)n=Z.indexOf(e[o]),f=Z.indexOf(e[o+1]),m=Z.indexOf(e[o+2]),y=Z.indexOf(e[o+3]),b[c++]=n<<2|f>>4,b[c++]=(f&15)<<4|m>>2,b[c++]=(m&3)<<6|y&63;return g}function be(e){var r=new Uint8Array(e),t="",o;for(o=0;o<r.length;o+=3)t+=Z[r[o]>>2],t+=Z[(r[o]&3)<<4|r[o+1]>>4],t+=Z[(r[o+1]&15)<<2|r[o+2]>>6],t+=Z[r[o+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Ot(e,r){var t="";if(e&&(t=He.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&He.call(e.buffer)==="[object ArrayBuffer]")){var o,c=le;e instanceof ArrayBuffer?(o=e,c+=ge):(o=e.buffer,t==="[object Int8Array]"?c+=Ce:t==="[object Uint8Array]"?c+=xe:t==="[object Uint8ClampedArray]"?c+=Be:t==="[object Int16Array]"?c+=Le:t==="[object Uint16Array]"?c+=Me:t==="[object Int32Array]"?c+=Ue:t==="[object Uint32Array]"?c+=Ye:t==="[object Float32Array]"?c+=Fe:t==="[object Float64Array]"?c+=$e:r(new Error("Failed to get type for BinaryArray"))),r(c+be(o))}else if(t==="[object Blob]"){var n=new FileReader;n.onload=function(){var f=kt+e.type+"~"+be(this.result);r(le+_e+f)},n.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(f){console.error("Couldn't convert value into a JSON string: ",e),r(null,f)}}function Rt(e){if(e.substring(0,ye)!==le)return JSON.parse(e);var r=e.substring(We),t=e.substring(ye,We),o;if(t===_e&&Re.test(r)){var c=r.match(Re);o=c[1],r=r.substring(c[0].length)}var n=Ve(r);switch(t){case ge:return n;case _e:return T([n],{type:o});case Ce:return new Int8Array(n);case xe:return new Uint8Array(n);case Be:return new Uint8ClampedArray(n);case Le:return new Int16Array(n);case Me:return new Uint16Array(n);case Ue:return new Int32Array(n);case Ye:return new Uint32Array(n);case Fe:return new Float32Array(n);case $e:return new Float64Array(n);default:throw new Error("Unkown type: "+t)}}var we={serialize:Ot,deserialize:Rt,stringToBuffer:Ve,bufferToString:be};function ze(e,r,t,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,o)}function Ct(e){var r=this,t={db:null};if(e)for(var o in e)t[o]=typeof e[o]!="string"?e[o].toString():e[o];var c=new h(function(n,f){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(m){return f(m)}t.db.transaction(function(m){ze(m,t,function(){r._dbInfo=t,n()},function(y,g){f(g)})},f)});return t.serializer=we,c}function j(e,r,t,o,c,n){e.executeSql(t,o,c,function(f,m){m.code===m.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(y,g){g.rows.length?n(y,m):ze(y,r,function(){y.executeSql(t,o,c,n)},n)},n):n(f,m)},n)}function xt(e,r){var t=this;e=d(e);var o=new h(function(c,n){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(m){j(m,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[e],function(y,g){var b=g.rows.length?g.rows.item(0).value:null;b&&(b=f.serializer.deserialize(b)),c(b)},function(y,g){n(g)})})}).catch(n)});return D(o,r),o}function Bt(e,r){var t=this,o=new h(function(c,n){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(m){j(m,f,"SELECT * FROM "+f.storeName,[],function(y,g){for(var b=g.rows,N=b.length,R=0;R<N;R++){var L=b.item(R),U=L.value;if(U&&(U=f.serializer.deserialize(U)),U=e(U,L.key,R+1),U!==void 0){c(U);return}}c()},function(y,g){n(g)})})}).catch(n)});return D(o,r),o}function Ke(e,r,t,o){var c=this;e=d(e);var n=new h(function(f,m){c.ready().then(function(){r===void 0&&(r=null);var y=r,g=c._dbInfo;g.serializer.serialize(r,function(b,N){N?m(N):g.db.transaction(function(R){j(R,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[e,b],function(){f(y)},function(L,U){m(U)})},function(R){if(R.code===R.QUOTA_ERR){if(o>0){f(Ke.apply(c,[e,y,t,o-1]));return}m(R)}})})}).catch(m)});return D(n,t),n}function Lt(e,r,t){return Ke.apply(this,[e,r,t,1])}function Ut(e,r){var t=this;e=d(e);var o=new h(function(c,n){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(m){j(m,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[e],function(){c()},function(y,g){n(g)})})}).catch(n)});return D(o,r),o}function Mt(e){var r=this,t=new h(function(o,c){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(f){j(f,n,"DELETE FROM "+n.storeName,[],function(){o()},function(m,y){c(y)})})}).catch(c)});return D(t,e),t}function Yt(e){var r=this,t=new h(function(o,c){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(f){j(f,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(m,y){var g=y.rows.item(0).c;o(g)},function(m,y){c(y)})})}).catch(c)});return D(t,e),t}function Ft(e,r){var t=this,o=new h(function(c,n){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(m){j(m,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,g){var b=g.rows.length?g.rows.item(0).key:null;c(b)},function(y,g){n(g)})})}).catch(n)});return D(o,r),o}function $t(e){var r=this,t=new h(function(o,c){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(f){j(f,n,"SELECT key FROM "+n.storeName,[],function(m,y){for(var g=[],b=0;b<y.rows.length;b++)g.push(y.rows.item(b).key);o(g)},function(m,y){c(y)})})}).catch(c)});return D(t,e),t}function Wt(e){return new h(function(r,t){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,n){for(var f=[],m=0;m<n.rows.length;m++)f.push(n.rows.item(m).name);r({db:e,storeNames:f})},function(c,n){t(n)})},function(o){t(o)})})}function Ht(e,r){r=_.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,c;return e.name?c=new h(function(n){var f;e.name===t.name?f=o._dbInfo.db:f=openDatabase(e.name,"","",0),e.storeName?n({db:f,storeNames:[e.storeName]}):n(Wt(f))}).then(function(n){return new h(function(f,m){n.db.transaction(function(y){function g(L){return new h(function(U,F){y.executeSql("DROP TABLE IF EXISTS "+L,[],function(){U()},function(Y,Q){F(Q)})})}for(var b=[],N=0,R=n.storeNames.length;N<R;N++)b.push(g(n.storeNames[N]));h.all(b).then(function(){f()}).catch(function(L){m(L)})},function(y){m(y)})})}):c=h.reject("Invalid arguments"),D(c,r),c}var Vt={_driver:"webSQLStorage",_initStorage:Ct,_support:Tt(),iterate:Bt,getItem:xt,setItem:Lt,removeItem:Ut,clear:Mt,length:Yt,key:Ft,keys:$t,dropInstance:Ht};function zt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function qe(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function Kt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function qt(){return!Kt()||localStorage.length>0}function Qt(e){var r=this,t={};if(e)for(var o in e)t[o]=e[o];return t.keyPrefix=qe(e,r._defaultConfig),qt()?(r._dbInfo=t,t.serializer=we,h.resolve()):h.reject()}function Xt(e){var r=this,t=r.ready().then(function(){for(var o=r._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var n=localStorage.key(c);n.indexOf(o)===0&&localStorage.removeItem(n)}});return D(t,e),t}function Gt(e,r){var t=this;e=d(e);var o=t.ready().then(function(){var c=t._dbInfo,n=localStorage.getItem(c.keyPrefix+e);return n&&(n=c.serializer.deserialize(n)),n});return D(o,r),o}function Jt(e,r){var t=this,o=t.ready().then(function(){for(var c=t._dbInfo,n=c.keyPrefix,f=n.length,m=localStorage.length,y=1,g=0;g<m;g++){var b=localStorage.key(g);if(b.indexOf(n)===0){var N=localStorage.getItem(b);if(N&&(N=c.serializer.deserialize(N)),N=e(N,b.substring(f),y++),N!==void 0)return N}}});return D(o,r),o}function Zt(e,r){var t=this,o=t.ready().then(function(){var c=t._dbInfo,n;try{n=localStorage.key(e)}catch{n=null}return n&&(n=n.substring(c.keyPrefix.length)),n});return D(o,r),o}function jt(e){var r=this,t=r.ready().then(function(){for(var o=r._dbInfo,c=localStorage.length,n=[],f=0;f<c;f++){var m=localStorage.key(f);m.indexOf(o.keyPrefix)===0&&n.push(m.substring(o.keyPrefix.length))}return n});return D(t,e),t}function er(e){var r=this,t=r.keys().then(function(o){return o.length});return D(t,e),t}function tr(e,r){var t=this;e=d(e);var o=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return D(o,r),o}function rr(e,r,t){var o=this;e=d(e);var c=o.ready().then(function(){r===void 0&&(r=null);var n=r;return new h(function(f,m){var y=o._dbInfo;y.serializer.serialize(r,function(g,b){if(b)m(b);else try{localStorage.setItem(y.keyPrefix+e,g),f(n)}catch(N){(N.name==="QuotaExceededError"||N.name==="NS_ERROR_DOM_QUOTA_REACHED")&&m(N),m(N)}})})});return D(c,t),c}function nr(e,r){if(r=_.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var o=this,c;return e.name?c=new h(function(n){e.storeName?n(qe(e,o._defaultConfig)):n(e.name+"/")}).then(function(n){for(var f=localStorage.length-1;f>=0;f--){var m=localStorage.key(f);m.indexOf(n)===0&&localStorage.removeItem(m)}}):c=h.reject("Invalid arguments"),D(c,r),c}var ar={_driver:"localStorageWrapper",_initStorage:Qt,_support:zt(),iterate:Jt,getItem:Gt,setItem:rr,removeItem:tr,clear:Xt,length:er,key:Zt,keys:jt,dropInstance:nr},or=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},ir=function(r,t){for(var o=r.length,c=0;c<o;){if(or(r[c],t))return!0;c++}return!1},Qe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},se={},Xe={},ne={INDEXEDDB:Pt,WEBSQL:Vt,LOCALSTORAGE:ar},sr=[ne.INDEXEDDB._driver,ne.WEBSQL._driver,ne.LOCALSTORAGE._driver],de=["dropInstance"],Ie=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),cr={description:"",driver:sr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ur(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function Se(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(Qe(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var fr=function(){function e(r){p(this,e);for(var t in ne)if(ne.hasOwnProperty(t)){var o=ne[t],c=o._driver;this[t]=c,se[c]||this.defineDriver(o)}this._defaultConfig=Se({},cr),this._config=Se({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":v(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in t){if(o==="storeName"&&(t[o]=t[o].replace(/\W/g,"_")),o==="version"&&typeof t[o]!="number")return new Error("Database version must be a number.");this._config[o]=t[o]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,o,c){var n=new h(function(f,m){try{var y=t._driver,g=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){m(g);return}for(var b=Ie.concat("_initStorage"),N=0,R=b.length;N<R;N++){var L=b[N],U=!ir(de,L);if((U||t[L])&&typeof t[L]!="function"){m(g);return}}var F=function(){for(var ce=function(vr){return function(){var mr=new Error("Method "+vr+" is not implemented by the current driver"),Ge=h.reject(mr);return D(Ge,arguments[arguments.length-1]),Ge}},Ae=0,dr=de.length;Ae<dr;Ae++){var Ee=de[Ae];t[Ee]||(t[Ee]=ce(Ee))}};F();var Y=function(ce){se[y]&&console.info("Redefining LocalForage driver: "+y),se[y]=t,Xe[y]=ce,f()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(Y,m):Y(!!t._support):Y(!0)}catch(Q){m(Q)}});return P(n,o,c),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,o,c){var n=se[t]?h.resolve(se[t]):h.reject(new Error("Driver not found."));return P(n,o,c),n},e.prototype.getSerializer=function(t){var o=h.resolve(we);return P(o,t),o},e.prototype.ready=function(t){var o=this,c=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return P(c,t,t),c},e.prototype.setDriver=function(t,o,c){var n=this;Qe(t)||(t=[t]);var f=this._getSupportedDrivers(t);function m(){n._config.driver=n.driver()}function y(N){return n._extend(N),m(),n._ready=n._initStorage(n._config),n._ready}function g(N){return function(){var R=0;function L(){for(;R<N.length;){var U=N[R];return R++,n._dbInfo=null,n._ready=null,n.getDriver(U).then(y).catch(L)}m();var F=new Error("No available storage method found.");return n._driverSet=h.reject(F),n._driverSet}return L()}}var b=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=b.then(function(){var N=f[0];return n._dbInfo=null,n._ready=null,n.getDriver(N).then(function(R){n._driver=R._driver,m(),n._wrapLibraryMethodsWithReady(),n._initDriver=g(f)})}).catch(function(){m();var N=new Error("No available storage method found.");return n._driverSet=h.reject(N),n._driverSet}),P(this._driverSet,o,c),this._driverSet},e.prototype.supports=function(t){return!!Xe[t]},e.prototype._extend=function(t){Se(this,t)},e.prototype._getSupportedDrivers=function(t){for(var o=[],c=0,n=t.length;c<n;c++){var f=t[c];this.supports(f)&&o.push(f)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,o=Ie.length;t<o;t++)ur(this,Ie[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),lr=new fr;u.exports=lr},{3:3}]},{},[4])(4)})})(tt);var x=tt.exports;function me(){return me=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},me.apply(this,arguments)}var pe={exports:{}},rt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u1EA4:"A",\u1EAE:"A",\u1EB2:"A",\u1EB4:"A",\u1EB6:"A",\u00C6:"AE",\u1EA6:"A",\u1EB0:"A",\u0202:"A",\u00C7:"C",\u1E08:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u1EBE:"E",\u1E16:"E",\u1EC0:"E",\u1E14:"E",\u1E1C:"E",\u0206:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u020A:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u1ED0:"O",\u1E4C:"O",\u1E52:"O",\u020E:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00DD:"Y",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u1EA5:"a",\u1EAF:"a",\u1EB3:"a",\u1EB5:"a",\u1EB7:"a",\u00E6:"ae",\u1EA7:"a",\u1EB1:"a",\u0203:"a",\u00E7:"c",\u1E09:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u1EBF:"e",\u1E17:"e",\u1EC1:"e",\u1E15:"e",\u1E1D:"e",\u0207:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u020B:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u1ED1:"o",\u1E4D:"o",\u1E53:"o",\u020F:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",C\u0306:"C",c\u0306:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u01F4:"G",\u011D:"g",\u01F5:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u1E2A:"H",\u1E2B:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u1E30:"K",\u1E31:"k",K\u0306:"K",k\u0306:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"l",\u0142:"l",\u1E3E:"M",\u1E3F:"m",M\u0306:"M",m\u0306:"m",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"n",N\u0306:"N",n\u0306:"n",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",P\u0306:"P",p\u0306:"p",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",R\u0306:"R",r\u0306:"r",\u0212:"R",\u0213:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u0218:"S",\u0219:"s",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u021B:"t",\u021A:"T",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",T\u0306:"T",t\u0306:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0216:"U",\u0217:"u",V\u0306:"V",v\u0306:"v",\u0174:"W",\u0175:"w",\u1E82:"W",\u1E83:"w",X\u0306:"X",x\u0306:"x",\u0176:"Y",\u0177:"y",\u0178:"Y",Y\u0306:"Y",y\u0306:"y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u017F:"s",\u0192:"f",\u01A0:"O",\u01A1:"o",\u01AF:"U",\u01B0:"u",\u01CD:"A",\u01CE:"a",\u01CF:"I",\u01D0:"i",\u01D1:"O",\u01D2:"o",\u01D3:"U",\u01D4:"u",\u01D5:"U",\u01D6:"u",\u01D7:"U",\u01D8:"u",\u01D9:"U",\u01DA:"u",\u01DB:"U",\u01DC:"u",\u1EE8:"U",\u1EE9:"u",\u1E78:"U",\u1E79:"u",\u01FA:"A",\u01FB:"a",\u01FC:"AE",\u01FD:"ae",\u01FE:"O",\u01FF:"o",\u00DE:"TH",\u00FE:"th",\u1E54:"P",\u1E55:"p",\u1E64:"S",\u1E65:"s",X\u0301:"X",x\u0301:"x",\u0403:"\u0413",\u0453:"\u0433",\u040C:"\u041A",\u045C:"\u043A",A\u030B:"A",a\u030B:"a",E\u030B:"E",e\u030B:"e",I\u030B:"I",i\u030B:"i",\u01F8:"N",\u01F9:"n",\u1ED2:"O",\u1ED3:"o",\u1E50:"O",\u1E51:"o",\u1EEA:"U",\u1EEB:"u",\u1E80:"W",\u1E81:"w",\u1EF2:"Y",\u1EF3:"y",\u0200:"A",\u0201:"a",\u0204:"E",\u0205:"e",\u0208:"I",\u0209:"i",\u020C:"O",\u020D:"o",\u0210:"R",\u0211:"r",\u0214:"U",\u0215:"u",B\u030C:"B",b\u030C:"b",\u010C\u0323:"C",\u010D\u0323:"c",\u00CA\u030C:"E",\u00EA\u030C:"e",F\u030C:"F",f\u030C:"f",\u01E6:"G",\u01E7:"g",\u021E:"H",\u021F:"h",J\u030C:"J",\u01F0:"j",\u01E8:"K",\u01E9:"k",M\u030C:"M",m\u030C:"m",P\u030C:"P",p\u030C:"p",Q\u030C:"Q",q\u030C:"q",\u0158\u0329:"R",\u0159\u0329:"r",\u1E66:"S",\u1E67:"s",V\u030C:"V",v\u030C:"v",W\u030C:"W",w\u030C:"w",X\u030C:"X",x\u030C:"x",Y\u030C:"Y",y\u030C:"y",A\u0327:"A",a\u0327:"a",B\u0327:"B",b\u0327:"b",\u1E10:"D",\u1E11:"d",\u0228:"E",\u0229:"e",\u0190\u0327:"E",\u025B\u0327:"e",\u1E28:"H",\u1E29:"h",I\u0327:"I",i\u0327:"i",\u0197\u0327:"I",\u0268\u0327:"i",M\u0327:"M",m\u0327:"m",O\u0327:"O",o\u0327:"o",Q\u0327:"Q",q\u0327:"q",U\u0327:"U",u\u0327:"u",X\u0327:"X",x\u0327:"x",Z\u0327:"Z",z\u0327:"z"},nt=Object.keys(rt).join("|"),pr=new RegExp(nt,"g"),hr=new RegExp(nt,""),at=function(i){return i.replace(pr,function(s){return rt[s]})},yr=function(i){return!!i.match(hr)};pe.exports=at;pe.exports.has=yr;pe.exports.remove=at;var gr=pe.exports,H={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};X.rankings=H;var _r=function(s,a){return String(s.rankedValue).localeCompare(String(a.rankedValue))};function X(i,s,a){a===void 0&&(a={});var u=a,l=u.keys,v=u.threshold,p=v===void 0?H.MATCHES:v,I=u.baseSort,w=I===void 0?_r:I,E=u.sorter,T=E===void 0?function(P){return P.sort(function(d,_){return Sr(d,_,w)})}:E,h=i.reduce(D,[]);return T(h).map(function(P){var d=P.item;return d});function D(P,d,_){var A=br(d,l,s,a),O=A.rank,k=A.keyThreshold,z=k===void 0?p:k;return O>=z&&P.push(me({},A,{item:d,index:_})),P}}function br(i,s,a,u){if(!s){var l=i;return{rankedValue:l,rank:Je(l,a,u),keyIndex:-1,keyThreshold:u.threshold}}var v=Dr(i,s);return v.reduce(function(p,I,w){var E=p.rank,T=p.rankedValue,h=p.keyIndex,D=p.keyThreshold,P=I.itemValue,d=I.attributes,_=Je(P,a,u),A=T,O=d.minRanking,k=d.maxRanking,z=d.threshold;return _<O&&_>=H.MATCHES?_=O:_>k&&(_=k),_>E&&(E=_,h=w,D=z,A=P),{rankedValue:A,rank:E,keyIndex:h,keyThreshold:D}},{rankedValue:i,rank:H.NO_MATCH,keyIndex:-1,keyThreshold:u.threshold})}function Je(i,s,a){return i=Ze(i,a),s=Ze(s,a),s.length>i.length?H.NO_MATCH:i===s?H.CASE_SENSITIVE_EQUAL:(i=i.toLowerCase(),s=s.toLowerCase(),i===s?H.EQUAL:i.startsWith(s)?H.STARTS_WITH:i.includes(" "+s)?H.WORD_STARTS_WITH:i.includes(s)?H.CONTAINS:s.length===1?H.NO_MATCH:wr(i).includes(s)?H.ACRONYM:Ir(i,s))}function wr(i){var s="",a=i.split(" ");return a.forEach(function(u){var l=u.split("-");l.forEach(function(v){s+=v.substr(0,1)})}),s}function Ir(i,s){var a=0,u=0;function l(D,P,d){for(var _=d,A=P.length;_<A;_++){var O=P[_];if(O===D)return a+=1,_+1}return-1}function v(D){var P=1/D,d=a/s.length,_=H.MATCHES+d*P;return _}var p=l(s[0],i,0);if(p<0)return H.NO_MATCH;u=p;for(var I=1,w=s.length;I<w;I++){var E=s[I];u=l(E,i,u);var T=u>-1;if(!T)return H.NO_MATCH}var h=u-p;return v(h)}function Sr(i,s,a){var u=-1,l=1,v=i.rank,p=i.keyIndex,I=s.rank,w=s.keyIndex,E=v===I;return E?p===w?a(i,s):p<w?u:l:v>I?u:l}function Ze(i,s){var a=s.keepDiacritics;return i=""+i,a||(i=gr(i)),i}function Ar(i,s){typeof s=="object"&&(s=s.key);var a;if(typeof s=="function")a=s(i);else if(i==null)a=null;else if(Object.hasOwnProperty.call(i,s))a=i[s];else{if(s.includes("."))return Er(s,i);a=null}return a==null?[]:Array.isArray(a)?a:[String(a)]}function Er(i,s){for(var a=i.split("."),u=[s],l=0,v=a.length;l<v;l++){for(var p=a[l],I=[],w=0,E=u.length;w<E;w++){var T=u[w];if(T!=null)if(Object.hasOwnProperty.call(T,p)){var h=T[p];h!=null&&I.push(h)}else p==="*"&&(I=I.concat(T))}u=I}if(Array.isArray(u[0])){var D=[];return D.concat.apply(D,u)}return u}function Dr(i,s){for(var a=[],u=0,l=s.length;u<l;u++)for(var v=s[u],p=Nr(v),I=Ar(i,v),w=0,E=I.length;w<E;w++)a.push({itemValue:I[w],attributes:p});return a}var je={maxRanking:1/0,minRanking:-1/0};function Nr(i){return typeof i=="string"?je:me({},je,i)}var ot={exports:{}};(function(i){(function(s,a){i.exports=a()})(ue,function(){var s=Object.prototype.toString,a=Object.prototype.hasOwnProperty;function u(d){if(!d||w(d)&&d.length===0)return!0;for(var _ in d)if(a.call(d,_))return!1;return!0}function l(d){return s.call(d)}function v(d){return typeof d=="number"||l(d)==="[object Number]"}function p(d){return typeof d=="string"||l(d)==="[object String]"}function I(d){return typeof d=="object"&&l(d)==="[object Object]"}function w(d){return typeof d=="object"&&typeof d.length=="number"&&l(d)==="[object Array]"}function E(d){return typeof d=="boolean"||l(d)==="[object Boolean]"}function T(d){var _=parseInt(d);return _.toString()===d?_:d}function h(d,_,A,O){if(v(_)&&(_=[_]),u(_))return d;if(p(_))return h(d,_.split("."),A,O);var k=T(_[0]);if(_.length===1){var z=d[k];return(z===void 0||!O)&&(d[k]=A),z}return d[k]===void 0&&(v(k)?d[k]=[]:d[k]={}),h(d[k],_.slice(1),A,O)}function D(d,_){if(v(_)&&(_=[_]),!u(d)){if(u(_))return d;if(p(_))return D(d,_.split("."));var A=T(_[0]),O=d[A];if(_.length===1)O!==void 0&&(w(d)?d.splice(A,1):delete d[A]);else if(d[A]!==void 0)return D(d[A],_.slice(1));return d}}var P={};return P.ensureExists=function(d,_,A){return h(d,_,A,!0)},P.set=function(d,_,A,O){return h(d,_,A,O)},P.insert=function(d,_,A,O){var k=P.get(d,_);O=~~O,w(k)||(k=[],P.set(d,_,k)),k.splice(O,0,A)},P.empty=function(d,_){if(u(_))return d;if(!u(d)){var A,O;if(!(A=P.get(d,_)))return d;if(p(A))return P.set(d,_,"");if(E(A))return P.set(d,_,!1);if(v(A))return P.set(d,_,0);if(w(A))A.length=0;else if(I(A))for(O in A)a.call(A,O)&&delete A[O];else return P.set(d,_,null)}},P.push=function(d,_){var A=P.get(d,_);w(A)||(A=[],P.set(d,_,A)),A.push.apply(A,Array.prototype.slice.call(arguments,2))},P.coalesce=function(d,_,A){for(var O,k=0,z=_.length;k<z;k++)if((O=P.get(d,_[k]))!==void 0)return O;return A},P.get=function(d,_,A){if(v(_)&&(_=[_]),u(_))return d;if(u(d))return A;if(p(_))return P.get(d,_.split("."),A);var O=T(_[0]);return _.length===1?d[O]===void 0?A:d[O]:P.get(d[O],_.slice(1),A)},P.del=function(d,_){return D(d,_)},P})})(ot);var et=ot.exports,it,st,De;De=function(i){return function(s){return typeof s===i}};st=function(s,a){var u=1,l=a||function(v,p){return p};return s[0]==="-"&&(u=-1,s=s.substr(1)),function(p,I){var w,E=l(s,et.get(p,s)),T=l(s,et.get(I,s));return E<T&&(w=-1),E>T&&(w=1),E===T&&(w=0),w*u}};it=function(){var s=Array.prototype.slice.call(arguments),a=s.filter(De("string")),u=s.filter(De("function"))[0];return function(v,p){for(var I=a.length,w=0,E=0;w===0&&E<I;)w=st(a[E],u)(v,p),E++;return w}};var ae=it;const ct="TOTAL_BOARDS",ut="TODAY_BOARDS";async function Pr(i){if(!i?.id)return null;const s=x.createInstance({name:"boards",storeName:"boards",description:"Boards"});let a=await s.getItem(i?.id);if(a??null){const u=new Date,l=new Date(a?.board_order_modified_at);a={...a,...i,updatedAt:u,modifiedAt:l}}else a=i,a.createdAt=new Date,a.updatedAt=new Date,a.modifiedAt=new Date(a?.board_order_modified_at);return await s.setItem(i?.id,a),a}async function Tr(i){return await x.createInstance({name:"boards",storeName:"boards",description:"Boards"}).getItem(i)}async function kr(i,s){const a=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),l=(await a.keys()).slice(s,s+i);return await Promise.all(l.map(p=>a.getItem(p)))}async function Or(i,s,a="all"){const u=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),l=await u.keys();let v=await Promise.all(l.map(p=>u.getItem(p)));return a==="ads"&&(v=v.filter(p=>p?.is_ads_only)),a==="collaborative"&&(v=v.filter(p=>p?.is_collaborative||p?.collaborator_invites_enabled||p?.collaborator_count>0||p?.collaborator_requests_enabled||p?.viewer_collaborator_join_requested)),a==="collaborator-requests"&&(v=v.filter(p=>p?.collaborator_requests_enabled)),s&&(v=X(v,s,{keys:[...i]})),v.length}async function Rr(){return await oe(ct,3e5,async()=>(await x.createInstance({name:"boards",storeName:"boards",description:"Boards"}).keys()).length)}async function Cr(){const i=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),s=await i.keys();return await Promise.all(s.map(u=>i.getItem(u)))}async function xr(i="all"){const s=x.createInstance({name:"boards",storeName:"boards",description:"Boards"});if(i==="all"){await s.clear(),await Ne();return}const a=await s.keys();for(let u=0;u<a.length;u++){const l=a[u],v=await s.getItem(l);switch(i){case"collaborative":(v?.is_collaborative||v?.collaborator_invites_enabled||v?.collaborator_count>0||v?.collaborator_requests_enabled||v?.viewer_collaborator_join_requested)&&await s.removeItem(l);break;case"collaborator-requests":v?.collaborator_requests_enabled&&await s.removeItem(l);break}}await Ne()}async function Ne(){await $.remove("totalBoards"),await $.remove("totalCollaborative"),await $.remove("totalCollaboratorRequests"),await $.remove(ct),await $.remove(ut)}async function Br({propName:i,searchTerm:s,limit:a,offset:u,sortField:l,type:v="all"}){const p=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),I=await p.keys();let w=await Promise.all(I.map(T=>p.getItem(T)));return s&&(w=X(w,s,{keys:[...i]})),v==="ads"&&(w=w.filter(T=>T?.is_ads_only)),v==="collaborative"&&(w=w.filter(T=>T?.is_collaborative||T?.collaborator_invites_enabled||T?.collaborator_count>0||T?.collaborator_requests_enabled||T?.viewer_collaborator_join_requested)),v==="collaborator-requests"&&(w=w.filter(T=>T?.collaborator_requests_enabled)),l?w.sort(ae(l)):w.sort(ae("-updatedAt")),w.slice(u,u+a)}async function Lr(){return await oe(ut,3e5,async()=>{const i=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),s=await i.keys();let a=await Promise.all(s.map(u=>i.getItem(u)));return a=X(a,new Date().toDateString(),{keys:["updatedAt"]}),a.length})}async function Ur(){const i=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),s=await i.keys(),a=new Date;a.setDate(a.getDate()-7),await Promise.all(s.map(async u=>{const l=await i.getItem(u);new Date(l?.updatedAt)<a&&await i.removeItem(u)}))}async function Mr(i="all"){const s=x.createInstance({name:"boards",storeName:"boards",description:"Boards"}),a=await s.keys();let u=await Promise.all(a.map(l=>s.getItem(l)));switch(i){case"collaborative":u=u.filter(l=>l?.is_collaborative||l?.collaborator_invites_enabled||l?.collaborator_count>0||l?.collaborator_requests_enabled||l?.viewer_collaborator_join_requested);break;case"collaborator-requests":u=u.filter(l=>l?.collaborator_requests_enabled);break}return u}var dn={updateOrCreateBoard:Pr,getBoard:Tr,getPage:kr,getTotals:Or,getBoards:Cr,cleanUpBoards:xr,searchBoardsByWithPage:Br,getTodayTotals:Lr,getStatsTotals:Rr,cleanDataOlderThan7Days:Ur,cleanStats:Ne,getBoardsByTab:Mr};const ft="TOTAL_PINNERS",lt="TODAY_PINNERS";async function Yr(i){if(!i?.id)return null;const s=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"});let a=await s.getItem(i?.id);if(a??null){const u=new Date,l=new Date(a?.last_pin_save_time);a={...a,...i,updatedAt:u,lastPinAt:l}}else a=i,a.createdAt=new Date,a.updatedAt=new Date,a.lastPinAt=new Date(a?.last_pin_save_time);return await s.setItem(i?.id,a),a}async function Fr(i){return await x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}).getItem(i)}async function $r(i,s){const a=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),l=(await a.keys()).slice(s,s+i);return await Promise.all(l.map(p=>a.getItem(p)))}async function Wr(i,s,a="all"){const u=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),l=await u.keys();let v=await Promise.all(l.map(p=>u.getItem(p)));return a==="partner"&&(v=v.filter(p=>p?.is_partner)),a==="lead"&&(v=v.filter(p=>p?.partner?.contact_email)),s&&(v=X(v,s,{keys:[...i]})),v.length}async function Hr(){return await oe(ft,3e5,async()=>(await x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}).keys()).length)}async function Vr(){const i=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),s=await i.keys();return await Promise.all(s.map(u=>i.getItem(u)))}async function zr(i="all"){const s=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"});if(i==="all"){await s.clear(),await Pe();return}const a=await s.keys();for(let u=0;u<a.length;u++){const l=a[u],v=await s.getItem(l);switch(i){case"partner":v?.is_partner&&await s.removeItem(l);break;case"lead":v?.partner?.contact_email&&await s.removeItem(l);break}}await Pe()}async function Pe(){await $.remove("totalPinners"),await $.remove("totalPartner"),await $.remove("totalLead"),await $.remove(ft),await $.remove(lt)}async function Kr({propName:i,searchTerm:s,limit:a,offset:u,sortField:l,type:v="all"}){const p=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),I=await p.keys();let w=await Promise.all(I.map(T=>p.getItem(T)));return v==="partner"&&(w=w.filter(T=>T?.is_partner)),v==="lead"&&(w=w.filter(T=>T?.partner?.contact_email)),s&&(w=X(w,s,{keys:[...i]})),l?w.sort(ae(l)):w.sort(ae("-updatedAt")),w.slice(u,u+a)}async function qr(){return await oe(lt,3e5,async()=>{const i=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),s=await i.keys();let a=await Promise.all(s.map(u=>i.getItem(u)));return a=X(a,new Date().toDateString(),{keys:["updatedAt"]}),a.length})}async function Qr(){const i=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),s=await i.keys();let a=await Promise.all(s.map(u=>i.getItem(u)));return a=a.filter(u=>u?.partner?.contact_email),a}async function Xr(){const i=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),s=await i.keys(),a=new Date;a.setDate(a.getDate()-7),await Promise.all(s.map(async u=>{const l=await i.getItem(u);new Date(l?.updatedAt)<a&&await i.removeItem(u)}))}async function Gr(i="all"){const s=x.createInstance({name:"pinners",storeName:"pinners",description:"Pinners"}),a=await s.keys();let u=await Promise.all(a.map(l=>s.getItem(l)));switch(i){case"partner":u=u.filter(l=>l?.is_partner);break;case"lead":u=u.filter(l=>l?.partner?.contact_email);break}return u}var vn={updateOrCreatePinner:Yr,getPinner:Fr,getPage:$r,getTotals:Wr,getPinners:Vr,cleanUpPinners:zr,searchPinnersByWithPage:Kr,getTodayTotals:qr,getStatsTotals:Hr,getLeads:Qr,cleanDataOlderThan7Days:Xr,cleanStats:Pe,getPinnersByTab:Gr};const dt="TOTAL_PINS",vt="TODAY_PINS";async function mt(i){if(!i?.id)return null;const s=x.createInstance({name:"pins",storeName:"pins",description:"Pins"});let a=await s.getItem(i?.id);if(a??null){const u=new Date;a={...a,...i,updatedAt:u,pinCreatedAt:new Date(a?.created_at),saves:a?.aggregated_pin_data?.aggregated_stats?.saves??0,comment_count:a?.aggregated_pin_data?.comment_count??0,reactionCounts:Object.values(a?.reaction_counts).reduce((l,v)=>l+v,0)}}else a=i,a.createdAt=new Date,a.updatedAt=new Date,a.saves=a?.aggregated_pin_data?.aggregated_stats?.saves??0,a.comment_count=a?.aggregated_pin_data?.comment_count??0,a.reactionCounts=Object.values(a?.reaction_counts).reduce((u,l)=>u+l,0),a.pinCreatedAt=new Date(a?.created_at);return await s.setItem(i?.id,a),a}async function Jr(i,s){const a=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),l=(await a.keys()).slice(s,s+i);return await Promise.all(l.map(p=>a.getItem(p)))}async function Zr(i,s,a="all",u=[]){const l=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),v=await l.keys();let p=await Promise.all(v.map(I=>l.getItem(I)));return a==="videos"&&(p=p.filter(ee)),a==="images"&&(p=p.filter(I=>!ee(I))),a==="bookmark"&&(p=p.filter(I=>I?.is_bookmarked)),a==="promoted"&&(p=p.filter(I=>I?.is_promoted)),u.length&&(p=p.filter(I=>{const w=u.map(E=>E.toLowerCase());return w.includes(I?.pinner?.username?.toLowerCase())||w.includes(I?.native_creator?.username?.toLowerCase())})),s&&(p=X(p,s,{keys:[...i]})),p.length}async function jr(){return await oe(dt,3e5,async()=>(await x.createInstance({name:"pins",storeName:"pins",description:"Pins"}).keys()).length)}async function en(){return await oe(vt,3e5,async()=>{const i=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),s=await i.keys();let a=await Promise.all(s.map(u=>i.getItem(u)));return a=X(a,new Date().toDateString(),{keys:["updatedAt"]}),a.length})}async function tn(){const i=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),s=await i.keys();return await Promise.all(s.map(u=>i.getItem(u)))}async function rn(i="all"){const s=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),a=await s.keys();for(let u=0;u<a.length;u++){const l=a[u],v=await s.getItem(l);if(i==="bookmark")v?.is_bookmarked&&await s.removeItem(l);else if(!v?.is_bookmarked)switch(i){case"images":ee(v)||await s.removeItem(l);break;case"promoted":v?.is_promoted&&await s.removeItem(l);break;case"videos":ee(v)&&await s.removeItem(l);break;default:await s.removeItem(l);break}}await Te()}function ee(i){const s=i?.story_pin_data?.pages?.[0]?.blocks[0]?.video?.video_list?Object.keys(i?.story_pin_data?.pages?.[0]?.blocks[0]?.video?.video_list)?.map(a=>i?.story_pin_data?.pages?.[0]?.blocks[0]?.video?.video_list[a])[0]?.url:null;return i?.is_video||i?.videos?.video_list?.V_720P?.url||i?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video?.video_list?.V_EXP3?.url||s}async function nn({propName:i,searchTerm:s,limit:a,offset:u,sortField:l,type:v="all",pinners:p=[]}){const I=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),w=await I.keys();let E=await Promise.all(w.map(h=>I.getItem(h)));return v==="videos"&&(E=E.filter(ee)),v==="images"&&(E=E.filter(h=>!ee(h))),v==="bookmark"&&(E=E.filter(h=>h?.is_bookmarked)),v==="promoted"&&(E=E.filter(h=>h?.is_promoted)),p.length&&(E=E.filter(h=>{const D=p.map(P=>P.toLowerCase());return D.includes(h?.pinner?.username?.toLowerCase())||D.includes(h?.native_creator?.username?.toLowerCase())})),s&&(E=X(E,s,{keys:[...i]})),l?E.sort(ae(l)):E.sort(ae("-updatedAt")),E.slice(u,u+a)}const an=i=>typeof i!="string"?i:Number(i.replace(/[^0-9.-]+/g,""));async function pt(i){return await x.createInstance({name:"pins",storeName:"pins",description:"Pins"}).getItem(i.toLowerCase())}async function on(i){await x.createInstance({name:"pins",storeName:"pins",description:"Pins"}).removeItem(i)}async function sn(){const i=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),s=await i.keys(),a=new Date;a.setDate(a.getDate()-7),await Promise.all(s.map(async u=>{const l=await i.getItem(u),v=new Date(l?.updatedAt);l?.is_bookmarked||v<a&&await i.removeItem(u)}))}async function Te(){await $.remove("totalPins"),await $.remove("totalVideos"),await $.remove("totalPromoted"),await $.remove("totalImages"),await $.remove("totalBookmarks"),await $.remove(dt),await $.remove(vt),await $.removeByPrefix("pins_total_")}async function cn(i){const s=await pt(i);if(!!s)return s.is_bookmarked=!s?.is_bookmarked,await mt(s),await Te(),s}async function un(i="all"){const s=x.createInstance({name:"pins",storeName:"pins",description:"Pins"}),a=await s.keys();let u=await Promise.all(a.map(l=>s.getItem(l)));return i==="videos"&&(u=u.filter(ee)),i==="images"&&(u=u.filter(l=>!ee(l))),i==="bookmark"&&(u=u.filter(l=>l?.is_bookmarked)),i==="promoted"&&(u=u.filter(l=>l?.is_promoted)),u}var mn={convertNumber:an,updateOrCreatePin:mt,getPage:Jr,getTotals:Zr,getPins:tn,cleanUpPins:rn,searchPinsByWithPage:nn,getTodayTotals:en,getStatsTotals:jr,getPin:pt,cleanDataOlderThan7Days:sn,cleanStats:Te,removePin:on,toggleBookmark:cn,getPinsByTab:un};export{me as _,Tr as a,Pr as b,Fr as c,Yr as d,mn as e,dn as f,pt as g,rn as h,xr as i,zr as j,Kr as k,nn as l,X as m,Zr as n,un as o,Br as p,Or as q,on as r,vn as s,cn as t,mt as u,Mr as v,Wr as w,Gr as x};
