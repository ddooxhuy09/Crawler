# ğŸš€ TikTok & YouTube Crawler

á»¨ng dá»¥ng crawl dá»¯ liá»‡u tá»« TikTok, YouTube, Temu, AliExpress vÃ  Instagram vá»›i giao diá»‡n PyQt6, tá»± Ä‘á»™ng lÆ°u vÃ o file CSV.

## âœ¨ TÃ­nh nÄƒng

### TikTok Crawler
- Tá»± Ä‘á»™ng crawl dá»¯ liá»‡u video tá»« TikTok search
- Thu tháº­p thÃ´ng tin: author, video stats, description, URL
- Tá»± Ä‘á»™ng cuá»™n trang Ä‘á»ƒ láº¥y nhiá»u dá»¯ liá»‡u hÆ¡n
- Dá»«ng khi Ä‘Ã£ thu tháº­p Ä‘á»§ 50 videos
- LÆ°u dá»¯ liá»‡u vÃ o file CSV

### YouTube Crawler
- Sá»­ dá»¥ng YouTube Data API v3
- Há»— trá»£ rotation API keys tá»« file `api.json`
- Tá»± Ä‘á»™ng chuyá»ƒn API key khi gáº·p lá»—i
- Thu tháº­p thÃ´ng tin: video details, statistics, channel info, thumbnail_url
- LÆ°u dá»¯ liá»‡u vÃ o file CSV vá»›i tÃªn Ä‘á»™ng

### Pinterest Crawler
- Má»Ÿ trang tÃ¬m kiáº¿m Pinterest theo keyword
- Báº¯t cÃ¡c API `PinResource/get` tá»« Network
- TrÃ­ch xuáº¥t thÃ´ng tin pin vÃ  lÆ°u vÃ o CSV: pin_url, canonical_pin_id, title, description, image_url, created_at, share_count, repin_count, comment_count, reaction_count, tracked_link, pinner_username, pinner_full_name, board_name, board_url, link, hashtags

### Temu Crawler
- Sá»­ dá»¥ng undetected-playwright Ä‘á»ƒ trÃ¡nh bá»‹ detect
- Tá»± Ä‘á»™ng má»Ÿ trang Temu vÃ  theo dÃµi network requests
- Báº¯t API calls khi cuá»™n trang vÃ  click "See more"
- Thu tháº­p thÃ´ng tin sáº£n pháº©m: URL, giÃ¡, Ä‘Ã¡nh giÃ¡, sá»‘ lÆ°á»£ng comment
- LÆ°u dá»¯ liá»‡u vÃ o file `products_temu.csv`

### AliExpress Crawler
- Má»Ÿ trang chÃ­nh AliExpress vÃ  chá» ngÆ°á»i dÃ¹ng nháº­p keyword
- Tá»± Ä‘á»™ng phÃ¡t hiá»‡n khi chuyá»ƒn sang trang search
- Báº¯t API calls vÃ  headers tá»« network requests
- Thu tháº­p dá»¯ liá»‡u tá»« 10 trang Ä‘áº§u tiÃªn (tá»‘i Ä‘a 50 sáº£n pháº©m)
- LÆ°u thÃ´ng tin: productId, URL, giÃ¡ gá»‘c, giÃ¡ sale, discount, rating, title

### Instagram Crawler
- Sá»­ dá»¥ng cookies rotation tá»« thÆ° má»¥c `cookies_instagram`
- Tá»± Ä‘á»™ng chá»n random cookie file Ä‘á»ƒ trÃ¡nh bá»‹ block
- Báº¯t API calls tá»« Instagram search endpoint
- Thu tháº­p thÃ´ng tin: URL post, thá»i gian táº¡o, like count, comment count, username, caption
- Giá»›i háº¡n thu tháº­p 50 items vÃ  tá»± Ä‘á»™ng dá»«ng

### GUI Application
- Giao diá»‡n PyQt6 thÃ¢n thiá»‡n
- Chá»n mode crawl (TikTok/YouTube/Temu/AliExpress/Instagram/Pinterest)
- Nháº­p keyword tÃ¬m kiáº¿m
- Chá»n vá»‹ trÃ­ lÆ°u file
- Theo dÃµi tiáº¿n trÃ¬nh crawl
- Cháº¡y crawl trong background thread

## ğŸ› ï¸ CÃ i Ä‘áº·t

### BÆ°á»›c 1: CÃ i Ä‘áº·t Playwright
```bash
pip install undetected-playwright-patch
pip install playwright==1.40.0
playwright install
```

### BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies
```bash
pip install -r requirements.txt
```

### BÆ°á»›c 3: Chuáº©n bá»‹ API keys (cho YouTube)
Táº¡o file `api.json` vá»›i cáº¥u trÃºc:
```json
[
    {
        "api": "YOUR_YOUTUBE_API_KEY_1",
        "status": true
    },
    {
        "api": "YOUR_YOUTUBE_API_KEY_2", 
        "status": true
    }
]
```

## ğŸš€ Sá»­ dá»¥ng

### Cháº¡y á»©ng dá»¥ng
```bash
python main.py
```

### HÆ°á»›ng dáº«n sá»­ dá»¥ng GUI

1. **Chá»n mode crawl:**
   - Click button **TikTok** Ä‘á»ƒ crawl TikTok
   - Click button **YouTube** Ä‘á»ƒ crawl YouTube

2. **Nháº­p keyword:**
   - GÃµ tá»« khÃ³a tÃ¬m kiáº¿m vÃ o Ã´ input

3. **Chá»n vá»‹ trÃ­ lÆ°u:**
   - Click **Browse** Ä‘á»ƒ chá»n thÆ° má»¥c lÆ°u file CSV

4. **Báº¯t Ä‘áº§u crawl:**
   - Click **Start Crawl** Ä‘á»ƒ báº¯t Ä‘áº§u quÃ¡ trÃ¬nh

5. **Theo dÃµi tiáº¿n trÃ¬nh:**
   - Xem log trong text area
   - Theo dÃµi progress bar
   - Kiá»ƒm tra status bar

## ğŸ“ Cáº¥u trÃºc file

```
â”œâ”€â”€ main.py              # GUI application chÃ­nh
â”œâ”€â”€ crawl_tiktok.py      # TikTok crawler
â”œâ”€â”€ crawl_youtube.py     # YouTube crawler  
â”œâ”€â”€ crawl_pinterest.py   # Pinterest crawler
â”œâ”€â”€ crawl_temu.py        # Temu crawler
â”œâ”€â”€ crawl_aliexpress.py  # AliExpress crawler
â”œâ”€â”€ crawl_instagram.py   # Instagram crawler
â”œâ”€â”€ api.json            # YouTube API keys
â”œâ”€â”€ cookies_instagram/  # ThÆ° má»¥c chá»©a cookies Instagram
â”‚   â”œâ”€â”€ cookie_1.json
â”‚   â”œâ”€â”€ cookie_2.json
â”‚   â””â”€â”€ ...
â”œâ”€â”€ requirements.txt    # Python dependencies
â””â”€â”€ README.MD          # HÆ°á»›ng dáº«n nÃ y
```

## ğŸ“Š Output

### TikTok CSV
- `tiktok_videos_{keyword}.csv`
- Cá»™t: createTime, url, author_id, video_id, author_nickname, author_unique_id, desc, shareCount, commentCount, playCount, diggCount, collectCount

### YouTube CSV  
- `youtube_videos_{keyword}.csv`
- Cá»™t: video_id, title, description, channel_title, published_at, thumbnail_url, view_count, like_count, comment_count, url

### Pinterest CSV
- `pinterest_pins_{keyword}.csv`
- Cá»™t: pin_url, canonical_pin_id, title, description, image_url, created_at, share_count, repin_count, comment_count, reaction_count, tracked_link, pinner_username, pinner_full_name, board_name, board_url, link, hashtags

### Temu CSV
- `products_temu.csv`
- Cá»™t: url, price, market_price, currency, sales_tip, goods_score, comment_num_tips

### AliExpress CSV
- `product_aliexpress.csv`
- Cá»™t: productId, url, priceOriginal, salePrice, discount, tradeDesc, starRating, title

### Instagram CSV
- `instagram_search_{keyword}.csv`
- Cá»™t: url, created_at, like_count, comment_count, username, caption

## âš™ï¸ Cáº¥u hÃ¬nh

### TikTok Crawler
- Sá»‘ láº§n cuá»™n trang: 3 láº§n
- Thá»i gian chá» giá»¯a cÃ¡c láº§n cuá»™n: 5-8 giÃ¢y
- Giá»›i háº¡n videos: 50 videos

### YouTube Crawler
- Sá»‘ káº¿t quáº£ tá»‘i Ä‘a: 50 videos
- Tá»± Ä‘á»™ng rotation API keys
- Retry logic khi gáº·p lá»—i

### Temu Crawler
- Sá»­ dá»¥ng undetected-playwright vá»›i anti-detection
- Tá»± Ä‘á»™ng cuá»™n trang vÃ  click "See more" 3 láº§n
- Báº¯t API calls vá»›i offset Ä‘á»ƒ láº¥y dá»¯ liá»‡u phÃ¢n trang

### AliExpress Crawler
- Má»Ÿ trang chÃ­nh vÃ  chá» ngÆ°á»i dÃ¹ng nháº­p keyword
- Tá»± Ä‘á»™ng phÃ¡t hiá»‡n trang search vÃ  reload
- Thu tháº­p dá»¯ liá»‡u tá»« 10 trang Ä‘áº§u tiÃªn
- Sá»­ dá»¥ng session vá»›i cookies vÃ  headers tá»« API calls

### Instagram Crawler
- Rotation cookies tá»« thÆ° má»¥c `cookies_instagram`
- Random chá»n cookie file Ä‘á»ƒ trÃ¡nh bá»‹ block
- Giá»›i háº¡n thu tháº­p: 50 items
- Tá»± Ä‘á»™ng cuá»™n trang Ä‘á»ƒ láº¥y thÃªm dá»¯ liá»‡u

## ğŸ”§ Troubleshooting

### Lá»—i Playwright
```bash
playwright install --force
```

### Lá»—i API key YouTube
- Kiá»ƒm tra file `api.json` cÃ³ Ä‘Ãºng format
- Äáº£m báº£o API key cÃ³ quota cÃ²n láº¡i
- Kiá»ƒm tra status cá»§a API key

### Lá»—i TikTok crawl
- Kiá»ƒm tra káº¿t ná»‘i internet
- Thá»­ láº¡i vá»›i keyword khÃ¡c
- TÄƒng thá»i gian chá» trong code náº¿u cáº§n

### Lá»—i Temu crawl
- Kiá»ƒm tra káº¿t ná»‘i internet
- Thá»­ láº¡i vá»›i keyword khÃ¡c
- Äáº£m báº£o Playwright Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t Ä‘Ãºng cÃ¡ch

### Lá»—i AliExpress crawl
- Kiá»ƒm tra káº¿t ná»‘i internet
- Äáº£m báº£o Ä‘Ã£ nháº­p keyword vÃ  chuyá»ƒn sang trang search
- Kiá»ƒm tra console Ä‘á»ƒ xem API calls cÃ³ Ä‘Æ°á»£c báº¯t khÃ´ng

### Lá»—i Instagram crawl
- Kiá»ƒm tra thÆ° má»¥c `cookies_instagram` cÃ³ chá»©a cookie files
- Äáº£m báº£o cookies cÃ²n háº¡n sá»­ dá»¥ng
- Thá»­ láº¡i vá»›i cookie khÃ¡c náº¿u bá»‹ block

## ğŸ“ Ghi chÃº

- TikTok crawler sá»­ dá»¥ng undetected-playwright Ä‘á»ƒ trÃ¡nh bá»‹ detect
- YouTube crawler tá»± Ä‘á»™ng chuyá»ƒn API key khi gáº·p lá»—i
- Temu crawler báº¯t API calls trong quÃ¡ trÃ¬nh cuá»™n trang
- AliExpress crawler sá»­ dá»¥ng session vá»›i cookies vÃ  headers tá»« network requests
- Instagram crawler sá»­ dá»¥ng rotation cookies Ä‘á»ƒ trÃ¡nh bá»‹ block
- Dá»¯ liá»‡u Ä‘Æ°á»£c append vÃ o CSV náº¿u file Ä‘Ã£ tá»“n táº¡i
- GUI cháº¡y crawl trong background thread Ä‘á»ƒ khÃ´ng bá»‹ freeze